# Route wso2am-analytics-dashboard-route
apiVersion: route.openshift.io/v1
kind: Route
metadata:
  name: wso2am-am-analytics-dashboard-service
spec:
  host: wso2am-analytics-dashboard.wso2apim
  port:
    targetPort: analytics-dashboard
  tls:
    insecureEdgeTerminationPolicy: Redirect
    termination: passthrough
  to:
    kind: Service
    name: wso2am-am-analytics-dashboard-service

parameters:
- name: OPENSHIFT_PROJECT_NAME
  displayName: Name of the OpenShift project.
  required: true
  value: wso2

- name: OPENSHIFT_BASE_DOMAIN
  displayName: OpenShift base domain.
  required: true
  value: ""

- name: IMAGE_ANALYTICS_WORKER
  displayName: WSO2 Analytics Worker image name.
  required: true
  value: docker.wso2.com/wso2am-analytics-worker:3.1.0

- name: IMAGE_ANALYTICS_DASHBOARD
  displayName: WSO2 Analytics dashboard image name.
  required: true
  value: docker.wso2.com/wso2am-analytics-dashboard:3.1.0

- name: IMAGE_APIM
  displayName: WSO2 APIM image name.
  required: true
  value: docker.wso2.com/wso2am:3.1.0

- name: IMAGE_PULL_SECRET
  displayName: WSO2 Subscription Credentials
  required: true
  value: wso2-image-pull-secret

- name: NFS_SERVER_IP
  displayName: NFS Server IP
  required: true
  value: ""

- name: NFS_SHARE_DATABASE
  displayName: NFS Share Path for database
  required: true
  value: ""

- name: NFS_SHARE_SYNAPSE
  displayName: NFS Share Path for synapse configs
  required: true
  value: ""

- name: NFS_SHARE_EXECUTION_PLANS
  displayName: NFS Share Path for executionplans
  required: true
  value: ""

- name: NFS_SHARE_CARBON_DB_1
  displayName: NFS Share Path for instance 1 carbon database
  required: true
  value: ""

- name: NFS_SHARE_SOLR_1
  displayName: NFS Share Path for instance 1 solr index
  required: true
  value: ""

- name: NFS_SHARE_CARBON_DB_2
  displayName: NFS Share Path for instance 2 carbon database
  required: true
  value: ""

- name: NFS_SHARE_SOLR_2
  displayName: NFS Share Path for instance 2 solr index
  required: true
  value: ""

- name: RESOURCES_LIMITS_CPU
  displayName: Set a CPU resource limits for apim
  required: true
  value: '3000m'

- name: RESOURCES_LIMITS_MEMORY
  displayName: Set a memory resource limits for apim
  required: true
  value: '3Gi'

- name: RESOURCES_REQUEST_CPU
  displayName: Set a minimum CPU resource limits for apim
  required: true
  value: '2000m'

- name: RESOURCES_REQUEST_MEMORY
  displayName: Set a minimum memory resource limits for apim
  required: true
  value: '2Gi'

- name: RESOURCES_LIMITS_CPU_KM
  displayName: Set a CPU resource limits for apim key manager
  required: true
  value: '3000m'

- name: RESOURCES_LIMITS_MEMORY_KM
  displayName: Set a memory resource limits for apim key manager
  required: true
  value: '3Gi'

- name: RESOURCES_REQUEST_CPU_KM
  displayName: Set a minimum CPU resource limits for apim key manager
  required: true
  value: '2000m'

- name: RESOURCES_REQUEST_MEMORY_KM
  displayName: Set a minimum memory resource limits for apim key manager
  required: true
  value: '2Gi'

- name: RESOURCES_LIMITS_CPU_GW
  displayName: Set a CPU resource limits for apim gateway
  required: true
  value: '3000m'

- name: RESOURCES_LIMITS_MEMORY_GW
  displayName: Set a memory resource limits for apim gateway
  required: true
  value: '3Gi'

- name: RESOURCES_REQUEST_CPU_GW
  displayName: Set a minimum CPU resource limits for apim gateway
  required: true
  value: '2000m'

- name: RESOURCES_REQUEST_MEMORY_GW
  displayName: Set a minimum memory resource limits for apim gateway
  required: true
  value: '2Gi'

- name: RESOURCES_LIMITS_CPU_ANALYTICS_WORKER
  displayName: Set a CPU resource limits for analytics worker
  required: true
  value: '2000m'

- name: RESOURCES_LIMITS_MEMORY_ANALYTICS_WORKER
  displayName: Set a memory resource limits for analytics worker
  required: true
  value: '4Gi'

- name: RESOURCES_REQUEST_CPU_ANALYTICS_WORKER
  displayName: Set a minimum CPU resource limits for analytics worker
  required: true
  value: '2000m'

- name: RESOURCES_REQUEST_MEMORY_ANALYTICS_WORKER
  displayName: Set a minimum memory resource limits for analytics worker
  required: true
  value: '4Gi'

- name: RESOURCES_LIMITS_CPU_ANALYTICS_DASHBOARD
  displayName: Set a CPU resource limits for analytics dashboard
  required: true
  value: '2000m'

- name: RESOURCES_LIMITS_MEMORY_ANALYTICS_DASHBOARD
  displayName: Set a memory resource limits for analytics dashboard
  required: true
  value: '4Gi'

- name: RESOURCES_REQUEST_CPU_ANALYTICS_DASHBOARD
  displayName: Set a minimum CPU resource limits for analytics dashboard
  required: true
  value: '2000m'

- name: RESOURCES_REQUEST_MEMORY_ANALYTICS_DASHBOARD
  displayName: Set a minimum memory resource limits for analytics dashboard
  required: true
  value: '4Gi'